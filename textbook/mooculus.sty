\NeedsTeXFormat{LaTeX2e}% LaTeX 2.09 can't be used (nor non-LaTeX)
[1994/12/01]% LaTeX date must be December 1994 or later
\ProvidesPackage{mooculus}[2012/01/30 v0.75]
\ProcessOptions\relax


%Colors
\usepackage[usenames,dvipsnames]{xcolor}
%\colorlet{background}{Apricot!5} % Color of the page
\colorlet{background}{Apricot!7} % Color of the page
\colorlet{textcolor}{Sepia!60!black} % Color of the text
\colorlet{pencolor}{green!50!black} % Color of a curve in a plo
\colorlet{definitionBackground}{Sepia} % Color of the background of a definition
\colorlet{theoremBackground}{Sepia} % Color of the background of a theorem

\pagecolor{background}
\color{textcolor} 





\RequirePackage{environ}
%\RequirePackage{xkeyval}
\RequirePackage{tikz}
\RequirePackage{amssymb}
\RequirePackage{amsmath}
\RequirePackage{amsthm}
%\RequirePackage{framed}
%\RequirePackage[framed,amsthm,amsmath,thmmarks]{ntheorem}
%\RequirePackage{nopageno}
\RequirePackage{microtype}
\RequirePackage{enumerate}

\usepackage[notextcomp]{kpfonts}
\RequirePackage[T1]{fontenc}

\usetikzlibrary{shadows}
\usetikzlibrary{shapes}
\usetikzlibrary{decorations}

\geometry{landscape,
  left=1in,
  top=1in,
  textheight=6.5in,
  textwidth=5in,
  marginparsep=0.5in,
  marginparwidth=2.5in}






\renewcommand{\epsilon}{\varepsilon}

 
\NewEnviron{mainTheorem}[1][Theorem]{%
  \begin{center}
    \begin{tikzpicture}
      \node[rectangle,rounded corners,inner sep=5pt,minimum width=\textwidth,
        text=textcolor, text opacity=1,draw=textcolor, ultra thick, draw opacity=1,
        fill=theoremBackground, fill opacity=.1] 
      (box){%
        \begin{minipage}{.95\textwidth}
          \textbf{#1}\qquad\color{textcolor}\BODY
      \end{minipage}};
    \end{tikzpicture}
  \end{center}
}

\NewEnviron{theorem}[1][Theorem]{%
  \begin{center}
    \begin{tikzpicture}
      \node[rectangle,rounded corners,inner sep=5pt,minimum width=\textwidth,
        text=textcolor, text opacity=1,
        %draw=gray, ultra thick, draw opacity=1,
        fill=theoremBackground, fill opacity=.1] 
      (box){%
        \begin{minipage}{.95\textwidth}
          \textbf{#1}\qquad\color{textcolor}\BODY
      \end{minipage}};
    \end{tikzpicture}
  \end{center}
}

\NewEnviron{definition}{%
  \begin{center}
    \begin{tikzpicture}
      \node[rectangle, rounded corners,inner sep=5pt,minimum width=\textwidth,
        text=textcolor, text opacity=1,
        fill=definitionBackground, fill opacity=.1] 
      (box){%
        \begin{minipage}{.95\textwidth}
          \textbf{Definition}\qquad\color{textcolor}\BODY
      \end{minipage}};
    \end{tikzpicture}
  \end{center}
}

\NewEnviron{warning}{%
  \begin{center}
    \begin{tikzpicture}
      \node[rectangle, rounded corners, inner sep=5pt,minimum width=\textwidth,
        text=textcolor, text opacity=1,
        fill=red, fill opacity=.1] 
      (box){%
        \begin{minipage}{.95\textwidth}
          \textbf{WARNING}\qquad\BODY
      \end{minipage}};
    \end{tikzpicture}
  \end{center}
}


\NewEnviron{ques}{%
  \begin{center}
    \begin{tikzpicture}
      \node[rectangle, rounded corners, inner sep=5pt,minimum width=\textwidth,
        text=textcolor, text opacity=1,
        fill=green!50!blue, fill opacity=.15] 
      (box){%
        \begin{minipage}{.95\textwidth}
          \textbf{Question}\qquad\BODY
      \end{minipage}};
    \end{tikzpicture}
  \end{center}
}

\RequirePackage{framed}
\newenvironment{example}{\begin{leftbar}\noindent\textbf{Example}\qquad}{\end{leftbar}}


\usepackage{multicol} % Use letters for lists
\renewcommand{\theenumi}{$(\mathrm{\alph{enumi}})$}
\renewcommand{\labelenumi}{\theenumi}


\newcounter{exercise}
\NewEnviron{exercises}{%
  \subsection*{Exercises for Section \arabic{chapter}.\arabic{section}}
\vspace{-14pt}

\rule{\textwidth}{1pt}
  \setcounter{exercise}{0}
  \BODY
  \dumpanswer[\noexpand\subsection*{Answers for \arabic{chapter}.\arabic{section}}]
\newpage
}%
{}
\newenvironment{exercise}{
\begin{enumerate}[(1)]
  \setcounter{enumi}{\value{exercise}}
  \item \addtocounter{exercise}{1}
}
{\end{enumerate}}



%\NewEnviron{example}{%
%  \begin{center}
%    \begin{tikzpicture}
%      \node[rectangle, rounded corners, inner sep=5pt,minimum width=\textwidth,
%        text=black, text opacity=1,
%        fill=black, fill opacity=.1] 
%      (box){%
%        \begin{minipage}{.95\textwidth}
%          \textbf{Example}\qquad\BODY
%      \end{minipage}};
%    \end{tikzpicture}
%  \end{center}
%}


\RequirePackage{titlesec}
\titleformat{\chapter}%
  [display]% shape
  {\relax\ifthenelse{\NOT\boolean{@tufte@symmetric}}{\begin{fullwidth}}{}}% format applied to label+text
  {\huge\scshape\sffamily\textcolor{textcolor}\thechapter}% label
  {1em}% horizontal separation between label and title body
  {\huge\scshape\sffamily\textcolor{textcolor}}% before the title body
  [\ifthenelse{\NOT\boolean{@tufte@symmetric}}{\end{fullwidth}}{}]% after the title body

\titleformat{\section}%
  [hang]% shape
  {\normalfont\Large\sffamily}% format applied to label+text
  {\thesection}% label
  {1em}% horizontal separation between label and title body
  {}% before the title body
  []% after the title body

\titleformat{\subsection}%
  [hang]% shape
  {\normalfont\large\sffamily}% format applied to label+text
  {\thesubsection}% label
  {1em}% horizontal separation between label and title body
  {}% before the title body
  []% after the title body

\titleformat{\paragraph}%
  [runin]% shape
  {\normalfont\sffamily}% format applied to label+text
  {\theparagraph}% label
  {1em}% horizontal separation between label and title body
  {}% before the title body
  []% after the title body



\ifthenelse{\boolean{@tufte@toc}}{%
  \titlecontents{part}% FIXME
    [0em] % distance from left margin
    {\vspace{1.5\baselineskip}\begin{fullwidth}\LARGE\sffamily} % above (global formatting of entry)
    {\contentslabel{2em}} % before w/label (label = ``II'')
    {} % before w/o label
    {\sffamily\qquad\thecontentspage} % filler + page (leaders and page num)
    [\end{fullwidth}] % after
  \titlecontents{chapter}%
    [0em] % distance from left margin
    {\vspace{1.5\baselineskip}\begin{fullwidth}\LARGE\sffamily} % above (global formatting of entry)
    {\hspace*{0em}\contentslabel{2em}} % before w/label (label = ``2'')
    {\hspace*{0em}} % before w/o label
    {\sffamily\hfill\qquad\thecontentspage} % filler + page (leaders and page num)
    [\end{fullwidth}] % after
  \titlecontents{section}% FIXME
    [0em] % distance from left margin
    {\vspace{0\baselineskip}\begin{fullwidth}\Large\sffamily} % above (global formatting of entry)
    {\hspace*{2em}\contentslabel{2em}} % before w/label (label = ``2.6'')
    {\hspace*{2em}} % before w/o label
    {\sffamily\qquad\thecontentspage} % filler + page (leaders and page num)
    [\end{fullwidth}] % after
  \titlecontents{subsection}% FIXME
    [0em] % distance from left margin
    {\vspace{0\baselineskip}\begin{fullwidth}\large\sffamily} % above (global formatting of entry)
    {\hspace*{4em}\contentslabel{4em}} % before w/label (label = ``2.6.1'')
    {\hspace*{4em}} % before w/o label
    {\sffamily\qquad\thecontentspage} % filler + page (leaders and page num)
    [\end{fullwidth}] % after
  \titlecontents{paragraph}% FIXME
    [0em] % distance from left margin
    {\vspace{0\baselineskip}\begin{fullwidth}\normalsize\sffamily} % above (global formatting of entry)
    {\hspace*{6em}\contentslabel{2em}} % before w/label (label = ``2.6.0.0.1'')
    {\hspace*{6em}} % before w/o label
    {\sffamily\qquad\thecontentspage} % filler + page (leaders and page num)
    [\end{fullwidth}] % after
}{}



\endinput
