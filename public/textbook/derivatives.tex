\chapter{Differentiation}


\section{Slopes of Tangent Lines via Limits}

Suppose that $f(x)$ is a function.  It is often useful to know how
sensitive the value of $f(x)$ is to small changes in $x$. To give you
a feeling why this is true, consider the following:
\begin{itemize}
\item If the rate of change is zero, then $x$ gives a local maximal or
  minimal values for $f(x)$.
\item If $p(t)$ represents the position of an object with respect to
  time, the rate of change gives the velocity of the object.
\item If $v(t)$ represents the velocity of an object with respect to
  time, the rate of change gives the acceleration of the object.
\item The rate of change of a function can help us approximate a
  complicated function with a simple function.
\item The rate of change of a function can be used to help us solve
  equations that we would not be able to solve via other methods.
\end{itemize}

The rate of change of a function is the slope of the tangent
line. Part of our goal will be to give a formal definition of a
tangent line. For now, consider the following informal definition:
\begin{quote}\index{tangent line!informal definition}
Given a function $f(x)$, if one can ``zoom in''
on $f(x)$ sufficiently so that $f(x)$ seems to be a straight line,
then that line is the \textbf{tangent line} to $f(x)$ at the point
determined by $x$.
\end{quote}
While this is merely an informal definition of a tangent line, it
contains the essence of how the formal definition will be
constructed. We illustrate this informal definition with
Figure~\ref{figure:informal-tangent}.
\begin{figure*}
\begin{tikzpicture}
	\begin{axis}[
            domain=0:6, range=0:7,
            ymin=-.2,ymax=7,
            width=\textwidth,
            height=7cm, %% Hard coded height! Moreover this effects the aspect ratio of the zoom--sort of BAD
            axis lines=none,
          ]   
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(.8,1.6) (2.834,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(2.834,5) (4.166,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(1.2,1.6) (4.166,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(.8,1.6) (1.2,1.6)} \closedcycle; %% zoom fill

          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.3,3.6) (5.334,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(5.334,5) (6.666,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.7,3.6) (6.666,5)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.3,3.6) (3.7,3.6)} \closedcycle; %% zoom fill
          
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.7,2.4) (6.666,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(3.3,2.4) (3.7,2.4)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(3.3,2.4) (5.334,1)} \closedcycle; %% zoom fill          
          \addplot [draw=none, fill=background] plot coordinates {(5.334,1) (6.666,1)} \closedcycle; %% zoom fill
          

          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(.8,.4) (2.834,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=textColor!10!background] plot coordinates {(2.834,1) (4.166,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(1.2,.4) (4.166,1)} \closedcycle; %% zoom fill
          \addplot [draw=none, fill=background] plot coordinates {(.8,.4) (1.2,.4)} \closedcycle; %% zoom fill

          \addplot[very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[very thick,penColor, smooth,domain=(2.834:4.166)] {3.333/(2.050-.3*x)-0.333}; %% 2.5 to 4.333
          %\addplot[very thick,penColor, smooth,domain=(5.334:6.666)] {11.11/(1.540-.09*x)-8.109}; %% 5 to 6.833
          \addplot[very thick,penColor, smooth,domain=(5.334:6.666)] {x-3}; %% 5 to 6.833
          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% point to be zoomed
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(3.5,3)};  %% zoomed pt 1
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(6,3)};  %% zoomed pt 2

          \addplot [->,textColor] plot coordinates {(0,0) (0,6)}; %% axis
          \addplot [->,textColor] plot coordinates {(0,0) (2,0)}; %% axis
          
          \addplot [textColor!50!background] plot coordinates {(.8,.4) (.8,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(1.2,.4) (1.2,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(.8,1.6) (1.2,1.6)}; %% box around pt
          \addplot [textColor!50!background] plot coordinates {(.8,.4) (1.2,.4)}; %% box around pt
          
          \addplot [textColor!50!background] plot coordinates {(2.834,1) (2.834,5)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(4.166,1) (4.166,5)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(2.834,1) (4.166,1)}; %% zoomed box 1
          \addplot [textColor!50!background] plot coordinates {(2.834,5) (4.166,5)}; %% zoomed box 1

          \addplot [textColor] plot coordinates {(3.3,2.4) (3.3,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.7,2.4) (3.7,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.3,3.6) (3.7,3.6)}; %% box around zoomed pt
          \addplot [textColor] plot coordinates {(3.3,2.4) (3.7,2.4)}; %% box around zoomed pt

          \addplot [textColor] plot coordinates {(5.334,1) (5.334,5)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(6.666,1) (6.666,5)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(5.334,1) (6.666,1)}; %% zoomed box 2
          \addplot [textColor] plot coordinates {(5.334,5) (6.666,5)}; %% zoomed box 2

          \node at (axis cs:2.2,0) [anchor=east] {$x$};
          \node at (axis cs:0,6.6) [anchor=north] {$y$};
        \end{axis}
\end{tikzpicture}
\caption{Given a function $f(x)$, if one can ``zoom in''
on $f(x)$ sufficiently so that $f(x)$ seems to be a straight line,
then that line is the \textbf{tangent line} to $f(x)$ at the point
determined by $x$.}
\label{figure:informal-tangent}
\end{figure*}


The \textit{derivative} of a function $f(x)$ at $x$, is the slope of
the tangent line at $x$. To find the slope of this line, we consider
\textit{secant} lines, lines that locally intersect the curve at two
points.  The slope of any secant line that passes through the points
$(x,f(x))$ and $(x+h, f(x+h))$ is given by
\[
\frac{\Delta y}{\Delta x}=\frac{f(x+h) -f(x)}{(x+h)-x} = \frac{f(x+h)-f(x)}{h},
\]
see Figure~\ref{figure:limit-dfn}. This leads to the \textit{limit definition of the derivative}:

\begin{mainDefinition}\index{limit!definition of the derivative}\index{derivative!limit definition}
The \textbf{derivative} of $f(x)$ is the function
\[
\ddx f(x) = \lim_{h\to 0} \frac{f(x+h) - f(x)}{h}.
\]
If this limit does not exist for a given value of $x$, then $f(x)$ is
not \textbf{differentiable} at $x$.
\end{mainDefinition}
\begin{marginfigure}[-1.75in]
\begin{tikzpicture}
	\begin{axis}[
            domain=0:2, range=0:6,ymax=6,ymin=0,
            axis lines =left, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,1.666}, ytick={1,3},
            xticklabels={$x$,$x+h$}, yticklabels={$f(x)$,$f(x+h)$},
            axis on top,
          ]         
          \addplot [penColor2!15!background, smooth,domain=(0:2)] {-3.348+4.348*x};
          \addplot [penColor2!32!background, smooth,domain=(0:2)] {-2.704+3.704*x};
          \addplot [penColor2!49!background, smooth,domain=(0:2)] {-1.994+2.994*x};         
          \addplot [penColor2!66!background, smooth,domain=(0:2)] {-1.326+2.326*x}; 
          \addplot [penColor2!83!background, smooth,domain=(0:2)] {-0.666+1.666*x};
	  \addplot [textColor,dashed] plot coordinates {(1,0) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,1) (1,1)};
          \addplot [textColor,dashed] plot coordinates {(0,3) (1.666,3)};
          \addplot [textColor,dashed] plot coordinates {(1.666,0) (1.666,3)};
          \addplot [very thick,penColor, smooth,domain=(0:1.833)] {-1/(x-2)};
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.666,3)};  %% closed hole          
          \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
          \addplot [very thick,penColor2, smooth,domain=(0:2)] {x};
        \end{axis}
\end{tikzpicture}
\caption{Tangent lines can be found as the limit of secant lines. The slope of the tangent line is given by
$\lim_{h\to 0} \frac{f(x+h) - f(x)}{h}.$}
\label{figure:limit-dfn}
\end{marginfigure}

\begin{definition}\index{derivative!notation}
There are several different notations for the derivative, we'll mainly
use
\[
\ddx f(x) = f'(x).
\]
If one is working with a function of a variable other than $x$, say $t$ we write
\[
\dd{t} f(t) = f'(t).
\]
However, if $y = f(x)$, $\frac{dy}{dx}$, $\dot{y}$, and $D_x f(x)$ are
also used.
\end{definition}

Now we will give a number of examples, starting with a basic example.

\begin{example}
Compute 
\[
\ddx (x^3 + 1).
\] 
\end{example}

\begin{solution}
Using the definition of the derivative,
\begin{align*}
\ddx f(x) &= \lim_{h\to 0}\frac{(x+h)^3 + 1 - (x^3 +1)}{h}\\
&= \lim_{h\to 0}\frac{x^3+3x^2h+3xh^2 + h^3 + 1 - x^3 -1}{h}\\
&= \lim_{h\to 0}\frac{3x^2h+3xh^2 + h^3}{h}\\
&= \lim_{h\to 0}(3x^2+3xh + h^2)\\
&= 3x^2.
\end{align*}
\end{solution}
\begin{marginfigure}[0in]
\begin{tikzpicture}
	\begin{axis}[
            domain=-3:3,
            ymax=4,
            ymin=-4,
            %samples=100,
            axis lines =middle, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west}
          ]
          \addplot [very thick, penColor2, smooth,domain=(-3:3)] {3*x^2};
          \addplot [very thick, penColor, smooth,domain=(-3:3)] {x^3+1};
          \node at (axis cs:1,1.8) [anchor=west] {\color{penColor}$f(x)$};  
          \node at (axis cs:-1,3.3) [anchor=west] {\color{penColor2}$f'(x)$};
        \end{axis}
\end{tikzpicture}
\caption{A plot of $f(x) = x^3+1$ and $f'(x) = 3x^2$.}
\label{figure:plot1/x}
\end{marginfigure}


Next we will consider the derivative a function that is not continuous
on $\R$.


\begin{example}
Compute
\[
\dd t \frac{1}{t}.
\]
\end{example}

\begin{solution}
Using the definition of the derivative,
\begin{align*}
\dd{t}\frac{1}{t}&=\lim_{ h\to0}\frac{\frac{1}{t+ h} - \frac{1}{t}}{h} \\
&=\lim_{h\to0}\frac{\frac{t}{t(t+ h)} - \frac{t+ h}{t(t+ h)}}{h} \\
&=\lim_{h\to0}\frac{\frac{t-(t+ h)}{t(t+ h)}}{h} \\
&=\lim_{h\to0}\frac{t-t- h}{t(t+ h) h} \\
&=\lim_{h\to0}\frac{- h}{t(t+ h) h} \\
&=\lim_{h\to0}\frac{-1}{t(t+ h)}\\
&=\frac{-1}{t^2}.
\end{align*}
This function is differentiable at all real numbers except for $t=0$, see Figure~\ref{figure:plot1/x}.
\end{solution}
\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            domain=-3:3,
            ymax=4,
            ymin=-4,
            samples=100,
            axis lines =middle, xlabel=$t$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west}
          ]
          \addplot [very thick, penColor2, smooth,domain=(-3:-.1)] {-1/x^2};
          \addplot [very thick, penColor2, smooth,domain=(.1:3)] {-1/x^2};
	  \addplot [very thick, penColor, smooth,domain=(-3:-.1)] {1/x};
          \addplot [very thick, penColor, smooth,domain=(.1:3)] {1/x};
          \node at (axis cs:1,1.3) [anchor=west] {\color{penColor}$f(t)$}; 
          \node at (axis cs:1,-1.1) [anchor=west] {\color{penColor2}$f'(t)$};
        \end{axis}
\end{tikzpicture}
\caption{A plot of $f(t) = \frac{1}{t}$ and $f'(t) = \frac{-1}{t^2}$.}
\label{figure:plot1/x}
\end{marginfigure}


As you may have guessed, there is some connection to continuity and
differentiability. 



\begin{theorem}
If $f(x)$ is a differentiable function at $x = a$, then $f(x)$ is
continuous at $x=a$.
\end{theorem}

\begin{proof}
We want to show that $f(x)$ is continuous at $x=a$, hence we must show that 
\[
\lim_{x\to a} f(x) = f(a).
\]
Consider
\begin{align*}
\lim_{x\to a} f(x) - f(a) &= \lim_{x\to a} (x-a)\frac{f(x) - f(a)}{x-a} &\text{Multiply and divide by $(x-a)$.} \\
&= \lim_{x\to a} (x-a) \lim_{x\to a}\frac{f(x) - f(a)}{x-a} &\text{Limit Law.} \\
&= \lim_{x\to a} (x-a) \lim_{h\to 0}\frac{f(x+h) - f(a)}{h} &\text{Set $x-a = h$.} \\
&= 0\cdot f'(a) = 0.
\end{align*}
Since 
\[
\lim_{x\to a} f(x) - f(a) = 0 
\]
we see that $\lim_{x\to a} f(x) = f(a)$, and so $f(x)$ is continuous.
\end{proof}

This theorem is often write as its contrapositive:
\begin{quote}
If $f(x)$ is not continuous at $x=a$, then $f(x)$ is not
differentiable at $x=a$.
\end{quote}


Let's see a function that is continuous, but whose derivative does not
exist everywhere.


\begin{example}
Compute 
\[
\ddx |x|.
\]
\end{example}
\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            domain=-3:3,
            ymax=3,
            ymin=-2,
            samples=100,
            axis lines =middle, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west}
          ]
          \addplot [very thick, penColor2, smooth,domain=(0:3)] {1};
          \addplot [very thick, penColor2, smooth,domain=(-3:0)] {-1};
          \addplot [very thick, penColor, smooth] {abs(x)};
          \node at (axis cs:1,1.7) [anchor=west] {\color{penColor}$f(t)$}; 
          \node at (axis cs:-1,-1.5) [anchor=south] {\color{penColor2}$f'(t)$};
          \addplot[color=penColor2,fill=background,only marks,mark=*] coordinates{(0,1)};  %% open hole
          \addplot[color=penColor2,fill=background,only marks,mark=*] coordinates{(0,-1)};  %% open hole
        \end{axis}
\end{tikzpicture}
\caption[A plot of $f(x) = |x|$ and its derivative.]{A plot of $f(x) = |x|$ and \[
f'(x) = \begin{cases}
1 &\text{if $x>0$,}\\
-1 &\text{if $x<0$.}
\end{cases}\]
}
\label{figure:plot-abs}
\end{marginfigure}
\begin{solution}
Using the definition of the derivative,
\[
\ddx |x| = \lim_{h\to0}\frac{|x+h| -|x|}{h}.
\]
If $x$ is positive we may assume that $x$ is larger than $h$, as we are
taking the limit as $h$ goes to $0$,
\begin{align*}
\lim_{h\to0}\frac{|x+h| -|x|}{h} &= \lim_{h\to0}\frac{x+h -x}{h}\\
&= \lim_{h\to0}\frac{h}{h}\\
&= 1.
\end{align*}
If $x$ is negative we may assume that $|x|$ is larger than $h$, as we are taking
the limit as $h$ goes to $0$,
\begin{align*}
\lim_{h\to0}\frac{|x+h| -|x|}{h} &= \lim_{h\to0}\frac{x-h -x}{h}\\
&= \lim_{h\to0+}\frac{-h}{h}\\
&= -1.
\end{align*}
However we still have one case left, when $x=0$. In this situation, we
must consider the one-sided limits:
\[
\lim_{h\to0+}\frac{|x+h| -|x|}{h}\qquad\text{and}\qquad \lim_{h\to0-}\frac{|x+h| -|x|}{h}.
\]
In the first case, 
\begin{align*}
\lim_{h\to0+}\frac{|x+h| -|x|}{h} &= \lim_{h\to 0+}\frac{0+h - 0}{h}\\
&= \lim_{h\to 0+}\frac{h}{h}\\
&=1.
\end{align*}
On the other hand
\begin{align*}
\lim_{h\to0-}\frac{|x+h| -|x|}{h} &= \lim_{h\to 0-}\frac{|0+h| - 0}{h}\\
&= \lim_{h\to 0-}\frac{|h|}{h}\\
&=-1.
\end{align*}
Hence we see that the derivative is
\[
f'(x) = 
\begin{cases}
1 &\text{if $x>0$,}\\
-1 &\text{if $x<0$.}
\end{cases}
\]
Note this function is undefined at $0$, see Figure~\ref{figure:plot-abs}. 
\end{solution}


Thus we see that all differentiable functions on $\R$ are continuous
on $\R$. Nevertheless as the previous example shows, there are
continuous functions on $\R$ that are not differentiable on $\R$.



\begin{exercises}

\begin{exercise} 
Fill IN
\end{exercise}

\end{exercises}





\section{Basic Derivative Rules}


It is tedious to compute a limit every time we need to know the
derivative of a function.  Fortunately, we can develop a small
collection of examples and rules that allow us to compute the
derivative of almost any function we are likely to encounter.  We will
start simply, building-up to more complicated examples.


\subsection{The Constant Rule}

The simplest function is a constant function.  Recall that derivatives
measure the rate of change of a function at a given point. Hence, the
derivative of a constant function is zero. For example:
\begin{itemize}
\item The constant function plots a horizontal line---so the slope of
  the tangent line is $0$.
\item If $p(t)$ represents the position of an object with respect to
  time and $p(t)$ is constant, then object is not moving, so its
  velocity is zero. Hence $\dd{t} p(t) = 0$.
\item If $v(t)$ represents the velocity of an object with respect to
  time and $v(t)$ is constant, then the object's acceleration is
  zero. Hence $\dd{t} v(t) = 0$.
\end{itemize}



\marginnote{To gain intuition, you should compute the derivative of
  $f(x) = 6$ using the limit definition of the derivative.}
\begin{theorem}[The Constant Rule]\index{derivative rules!constant}\index{the constant rule}
Given a constant $c$,
\[
\ddx c = 0.
\]
\end{theorem}

\begin{proof}
From the limit definition of the derivative, write
\begin{align*}
\ddx c &= \lim_{h\to 0}\frac{c-c}{h}\\
&= \lim_{h\to 0} \frac{0}{h}\\
&= \lim_{h\to 0} 0 = 0.
\end{align*}
\end{proof}


\subsection{The Power Rule}

Now let's examine derivatives of powers of a single variable.  Here we
have a nice rule.

\marginnote{To gain intuition, you should compute the derivative of
  $f(x) = x^3$ using the limit definition of the derivative.}
\begin{theorem}[The Power Rule]\index{derivative rules!power}\index{the power rule}
For any real number $n$, 
\[
\ddx x^n = n x^{n-1}.
\]
\end{theorem}

\begin{proof}
At this point we will only prove this theorem for $n$ being a positive
integer, later we will give the complete proof. From the limit
definition of the derivative, write
\[
\ddx x^n = \lim_{ h\to0} \frac{(x+ h)^n-x^n}{h}.
\]
Start by expanding the term $(x+h)^n$
\[
\ddx x^n=\lim_{h\to0} \frac{x^n + nx^{n-1} h + a_2x^{n-2} h^2+\cdots+a_{n-1}x h^{n-1} +  h^n-x^n}{h}
\]
Note, we simplify wrote $a_i$ for the various coefficients as we don't
really need to know what the coefficients are. Canceling the terms
$x^n$ and $-x^n$, write
\begin{align*}
\ddx x^n&=\lim_{h\to0} \frac{nx^{n-1} h + a_2x^{n-2} h^2+\cdots+a_{n-1}x h^{n-1} +  h^n}{h} \\
&=\lim_{h\to0} nx^{n-1} + a_2x^{n-2} h+\cdots+a_{n-1}x h^{n-2} +  h^{n-1}.
\end{align*}
Since every term but the first has a factor of $h$, we see
\[
\ddx x^n = \lim_{ h\to0}\frac{(x+ h)^n-x^n}{h} = nx^{n-1}.
\]
\end{proof}

\begin{example}
HERE HERE HERE $7x^12$
\end{example}







\subsection{The Sum Rule}

We want to be able to take derivatives of functions ``one piece at a
time.'' The \textit{sum rule} allows us to do this. The sum rule says
that that we can add the rates of change of two functions to obtain
the rate of change of the sum of both functions. For example, viewing
the derivative as the velocity of an object, the sum rule states that
the velocity person walking on a moving bus is the sum of the velocity
of the bus and the walking person.


\begin{theorem}[The Sum Rule]\index{derivative rules!sum}\index{the sum rule}
If $f(x)$ and $g(x)$ are differentiable at $x=a$ and $c$ is a constant, then 
\begin{enumerate}
\item\label{SR:1} $\ddx \big( f(x) + g(x)\big) = f'(x) + g'(x)$,
\item $\ddx \big( f(x) - g(x)\big) = f'(x) - g'(x)$,
\item $\ddx \big(c\cdot f(x)\big) = c\cdot f'(x)$.
\end{enumerate}
\end{theorem}
\begin{proof}
We will only prove part~\ref{SR:1} above, the rest are similar. Write
\begin{align*}
\ddx\big(f(x)+g(x)\big) &= \lim_{ h\to 0} {f(x+h)+g(x+ h) - (f(x)+g(x))\over  h}  \\
&= \lim_{ h\to 0} {f(x+h)+g(x+ h) - f(x)-g(x)\over  h}  \\
&= \lim_{ h\to 0} {f(x+h)-f(x) +g(x+ h) -g(x)\over  h}  \\
&= \lim_{ h\to 0} \left({f(x+h)-f(x)\over  h}  +{g(x+ h) -g(x)\over  h}\right)  \\
&= \lim_{ h\to 0} {f(x+h)-f(x)\over  h}  +
\lim_{ h\to 0} {g(x+ h) -g(x)\over  h}  \\
&=f'(x)+g'(x).
\end{align*}
\end{proof}





\begin{example}
Find the derivative of $f(x)=x^5+5x^2$. We have to invoke linearity
twice here: 
\[
f'(x) = \ddx(x^5+5x^2) = \ddx x^5 + \ddx(5x^2) =
5x^4+5\ddx(x^2) = 5x^4+5\cdot 2x^1 = 5x^4+10x.
\]
\end{example}

\begin{example}
Find the derivative of $f(x)=3/x^4-2x^2+6x-7$.
$$f'(x) = \ddx\left( {3\over x^4}-2x^2+6x-7\right)
= \ddx(3x^{-4}-2x^2+6x-7) 
= -12x^{-5}-4x+6.$$
\end{example}



\subsection{The Derivative of $\textit{e}^\textit{x}$}


We don't know anything about derivatives that allows us to compute the
derivatives of exponential functions without getting our hands
dirty. Let's do a little work with the definition of the derivative:
\begin{align*}
\ddx a^x &=\lim_{h\to 0} \frac{a^{x+h}-a^x}{h} \\
&=\lim_{h\to 0} \frac{a^xa^{h}-a^x}{h} \\
&=\lim_{h\to 0} a^x\frac{a^{h}-1}{h} \\
&=a^x\lim_{h\to 0} \frac{a^{h}-1}{h} \\
&=a^x \cdot \underbrace{\text{(constant)}}_{\lim_{h\to 0} \frac{a^{h}-1}{h}}
\end{align*}
There are two interesting things to note here: We are left with a
limit that involves $h$ but not $x$, which means that whatever $
\lim_{h\to 0} (a^h-1)/h$ is, we know that it is a number, that is, a
constant. This means that $a^x$ has a remarkable property: Its
derivative is a constant times itself.

Unfortunately it is beyond the scope of this text to compute the limit
\[
\lim_{h\to 0} (a^h-1)/h.
\]
However, we can look at some examples. Consider $(2^h-1)/h$ and $(3^h-1)/h$:
\[
\begin{array}{c|c}
 h &     (2^h-1)/h\\ \hline
 1 & 1  \\
 0.1 &  \approx0.7177 \\
 0.01 & \approx0.6956 \\
 0.001 & \approx0.6834 \\
 0.0001 & \approx0.6932 \\
 0.00001 & \approx0.6932 \\
\end{array}
\qquad
\begin{array}{c|c}
 h &     (3^h-1)/h\\ \hline
 1 & 2  \\
 0.1 &  \approx1.1612 \\
 0.01 & \approx1.1047 \\
 0.001 & \approx1.0992 \\
 0.0001 & \approx1.0987 \\
 0.00001 & \approx1.0986 \\
\end{array}
\]
While these two tables don't establish a pattern, it turns out that
\[
\lim_{h\to 0} (a^h-1)/h \approx .7 \qquad\text{and}\qquad \lim_{h\to 0} (3^h-1)/h \approx 1.1.
\]
Moreover, if you do more examples you will find that the limit varies
directly with the value of $a$: bigger $a$, bigger limit; smaller $a$,
smaller limit. As we can already see, some of these limits will be
less than 1 and some larger than 1. Somewhere between $a=2$ and $a=3$
the limit will be exactly 1. This happens when 
\[
a = e = 2.718281828459045\dots.
\]
This brings us to our next definition.
\begin{definition}\index{e@$e$}\index{Euler's number}
Euler's number is defined to be the number $e$ such that
\[
\lim_{h\to 0} (e^h-1)/h = 1.
\]
\end{definition}
Now we see that the function $ e^x$ has a truly remarkable property:

\begin{theorem}[The Derivative of $\boldsymbol{e^x}$]\index{ex@$e^x$}\index{derivative!of ex@of $e^x$}
\[
\ddx e^x = e^x.
\]
\end{theorem}
\begin{proof}  
From the limit definition of the derivative, write
\begin{align*}
\ddx e^x&=\lim_{h\to 0} \frac{e^{x+h}-e^x}{h} \\
&=\lim_{h\to 0} \frac{e^xe^{h}-e^x}{h} \\
&=\lim_{h\to 0} e^x\frac{e^{h}-1}{h} \\
&=e^x\lim_{h\to 0} \frac{e^{h}-1}{h} \\
&=e^x.
\end{align*}
\end{proof}



Hence, $e^x$ is its own derivative, or in other words the slope of the
plot of $e^x$ is the same as its height, or the same as its second
coordinate: The function $ f(x)=e^x$ goes through the point $ (a,e^a)$
and has slope $e^a$ there, no matter what $a$ is. 



\begin{example}
\end{example}
\begin{solution}
\end{solution}



\begin{exercises}

Find the derivatives of the given functions.

\twocol

\begin{exercise} $x^{100}$
\begin{answer} $100x^{99}$
\end{answer}\end{exercise}

\begin{exercise} $x^{-100}$
\begin{answer} $-100x^{-101}$
\end{answer}\end{exercise}

\begin{exercise} $\displaystyle {1\over x^5}$
\begin{answer} $-5x^{-6}$
\end{answer}\end{exercise}

\begin{exercise} $x^\pi$
\begin{answer} $\pi x^{\pi-1}$
\end{answer}\end{exercise}

\begin{exercise} $x^{3/4}$
\begin{answer} $(3/4)x^{-1/4}$
\end{answer}\end{exercise}

\begin{exercise} $x^{-9/7}$
\begin{answer} $-(9/7)x^{-16/7}$
\end{answer}\end{exercise}

\endtwocol

Find the derivatives of the functions in 1--6.

\begin{exercise} $5x^3+12x^2-15$
\begin{answer} $15x^2+24x$
\end{answer}\end{exercise}

\begin{exercise} $-4x^5 + 3x^2 - 5/x^2$
\begin{answer} $-20x^4+6x+10/x^3$
\end{answer}\end{exercise}

\begin{exercise} $5(-3x^2 + 5x + 1)$
\begin{answer} $-30x+25$
\end{answer}\end{exercise}

\begin{exercise} $f(x)+g(x)$, where $f(x)=x^2-3x+2$ and $g(x)=2x^3-5x$
\begin{answer} $6x^2+2x-8$
\end{answer}\end{exercise}

\begin{exercise} $(x+1)(x^2+2x-3)$
\begin{answer} $3x^2+6x-1$
\end{answer}\end{exercise}

\begin{exercise} $\sqrt{625-x^2}+3x^3+12$ (See section \xrefn{sec:slope of a function}.)
\begin{answer} $9x^2-x/\sqrt{625-x^2}$
\end{answer}\end{exercise}

\begin{exercise}
 Find an equation for the tangent line to $f(x) = x^3/4 - 1/x$ at $x=-2$.
\begin{answer} $y=13x/4+5$
\end{answer}\end{exercise}

\begin{exercise} Find an equation for 
the tangent line to $f(x)= 3x^2 - \pi ^3$ at $x= 4$.
\begin{answer} $y=24x-48-\pi^3$
\end{answer}\end{exercise}

\begin{exercise} Suppose the position of an object at time $t$ is  given by
$f(t)=-49 t^2/10+5t+10$. Find a function giving the speed of the object
at time $t$. The acceleration of an object is the rate at which its
speed is changing, which means it is given by the derivative of the
speed function. Find the acceleration of the object at time $t$.
\begin{answer} $-49t/5+5$, $-49/5$
\end{answer}\end{exercise}

\begin{exercise} Let $f(x) =x^3$ and $c= 3$. Sketch the graphs of $f$,
$cf$, $f'$, and $(cf)'$ on the same diagram.
\end{exercise}

\begin{exercise} The general polynomial $P$ of degree $n$ in the variable $x$
has the form $P(x)= \sum _{k=0 } ^n a_k x^k = a_0 + a_1 x + \ldots
+ a_n x^n$. What is the derivative (with respect to $x$)
of $P$?
\begin{answer} $\sum_{k=1}^n ka_kx^{k-1}$
\end{answer}\end{exercise}

\begin{exercise} Find a cubic polynomial whose graph has horizontal tangents at
$(-2 , 5)$ and $(2, 3)$.
\begin{answer} $x^3/16-3x/4+4$
\end{answer}\end{exercise}
 
\begin{exercise} Prove that $\ddx(cf(x))= cf'(x)$ using the
definition of the derivative.
\end{exercise}

\begin{exercise} Suppose that $f$ and $g$ are differentiable at $x$. Show
that $f-g$ is differentiable at $x$ using the two linearity
properties from this section.
\end{exercise}

\end{exercises}



















\section{The Product Rule and Quotient Rule}

\section{The Derivative of Trigonometric Functions}

\section{The Chain Rule}


\section{Rates of Change}

\section{Implicit Differentiation}

\section{Applications}

\subsection{Related Rates}
