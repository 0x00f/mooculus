\chapter{Integrals}

\section{Definite Integrals Compute Signed Area}

Definite integrals, often simply called integrals, compute signed area. 

\begin{definition}\index{integral}\index{definite integral}
The \textbf{definite integral}
\[
\int_a^b f(x) \d x
\]
computes the signed area in the region $[a,b]$ between $f(x)$ and the
$x$-axis. If the region is above the $x$-axis, then the area has
positive sign. If the region is below the $x$-axis, then the area has
negative sign.
\end{definition}

\begin{example}
Compute
\[
\int_0^3 x \d x.
\]
\end{example}
\begin{marginfigure}
\begin{tikzpicture}
  \begin{axis}[
      xmin=0, xmax=3,ymin=0,ymax=3,domain=0:3,
      axis lines =center, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
      axis on top,
    ] 
    \addplot [draw=none, fill=fillp] {x} \closedcycle;
    \addplot [penColor,very thick] {x};
  \end{axis}
\end{tikzpicture}
\caption{The integral $\int_0^3 x \d x$ measures the shaded area.}
\label{figure:intfirst}
\end{marginfigure}

\begin{solution}
The definite integral $\int_0^3 x \d x$ measures signed area of the
shaded region shown in figure~\ref{figure:intfirst}. Since this region
is a triangle, we can use the formula for the area of the triangle to
compute
\[
\int_0^2 x \d x = \frac{1}{2} 3\cdot 3 = 9/2. 
\]
\end{solution}

When working with signed area, positive and negative area cancel each
other out.

\begin{example} Compute
\[
\int_{-1}^3 \lfloor x \rfloor \d x.
\]
\end{example}

\begin{marginfigure}[0in]
\begin{tikzpicture}
  \begin{axis}[
      domain=-1:3,
      axis lines =middle, xlabel=$x$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
      clip=false,
      axis on top,
    ]
    \addplot [draw=none, fill=filln, domain=(-1:0)] {-1} \closedcycle;
    \addplot [draw=none, fill=fillp, domain=(0:1)] {0} \closedcycle;
    \addplot [draw=none, fill=fillp, domain=(1:2)] {1} \closedcycle;
    \addplot [draw=none, fill=fillp, domain=(2:3)] {2} \closedcycle;
    \addplot [very thick, penColor, domain=(-1:0)] {-1};
    \addplot [very thick, penColor, domain=(0:1)] {0};
    \addplot [very thick, penColor, domain=(1:2)] {1};
    \addplot [very thick, penColor, domain=(2:3)] {2};
    \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(-1,-1)};  %% closed hole          
    \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(0,0)};  %% closed hole          
    \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,1)};  %% closed hole          
    \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(2,2)};  %% closed hole  
    \addplot[color=penColor,fill=penColor,only marks,mark=*] coordinates{(3,3)};  %% closed hole                  
    \addplot[color=penColor,fill=background,only marks,mark=*] coordinates{(0,-1)};  %% open hole
    \addplot[color=penColor,fill=background,only marks,mark=*] coordinates{(1,0)};  %% open hole
    \addplot[color=penColor,fill=background,only marks,mark=*] coordinates{(2,1)};  %% open hole
    \addplot[color=penColor,fill=background,only marks,mark=*] coordinates{(3,2)};  %% open hole
  \end{axis}
\end{tikzpicture}
\caption{The integral $\int_{-1}^3 \lfloor x\rfloor \d x$ measures the
  shaded area. Area above the $x$-axis has positive sign and the area below the $x$-axis has negative sign.}
\label{plot:int-greatist-integer}
\end{marginfigure}

\begin{solution}
The definite integral $\int_{-1}^3 \lfloor x\rfloor \d x$ measures
signed area of the shaded region shown in
figure~\ref{plot:int-greatist-integer}. We see that 
\[
\int_{-1}^3 \lfloor x\rfloor \d x = 
\int_{-1}^0 \lfloor x\rfloor \d x + \int_{0}^1 \lfloor x\rfloor \d x + \int_{1}^2 \lfloor x\rfloor \d x + \int_{2}^3 \lfloor x\rfloor \d x.
\]
So computing each of these areas separately
\begin{align*}
\int_{-1}^3 \lfloor x\rfloor \d x &= -1 + 0 + 1+2 \\
&= 2.
\end{align*}
\end{solution}

Our previous examples hopefully gives us enough insight that this next
theorem is unsurprising.

\begin{mainTheorem}[Properties of Definite Integrals]
\begin{enumerate}
\item $\int_a^b k \d x= kb-ka$, where $k$ is a constant.
\item $\int_a^b \left( f(x) + g(x) \right) \d x = \int_a^b f(x) \d x + \int_a^b
  g(x) \d x$.
\item $\int_a^b k \cdot f(x) \d x = k \int_a^b f(x) \d x$.
\end{enumerate}
\end{mainTheorem}
Each of these properties follows from the notion that definite
integrals compute signed area.

\subsection*{Accumulation Functions}

While the definite integral computes a signed area, which is a fixed
number, there is a way to turn it into a function.
\begin{definition}
The given a function $f(x)$, an \textbf{accumulation function} for
$f(x)$ is given by
\[
F(x) = \int_a^x f(t) \d t.
\]
\end{definition}

One thing that you might note is that an accumulation function seems
to have two variables $x$ and $t$. Let's see if we can explain
this. Consider the following plot:

\begin{tikzpicture}
	\begin{axis}[
            domain=0:6, ymax=2.2,xmax=6,
            axis lines =left, xlabel=$t$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,5}, ytick={.203,1.679},
            xticklabels={$a$,$x$}, yticklabels={$f(a)$,$f(x)$},
            axis on top,
          ]
          \addplot [draw=none,fill=fillp,domain=(1:5)] {sin(deg((x - 4)/2)) + 1.2} \closedcycle;
          \addplot [very thick,penColor, smooth,domain=(0:6)] {sin(deg((x - 4)/2)) + 1.2};
          \addplot [textColor,dashed] plot coordinates {(0,1.679) (5,1.679)};
          \addplot [textColor,dashed] plot coordinates {(0,.203) (1,.203)};
          \addplot [textColor,dashed] plot coordinates {(5,0) (5,1.679)};
          \addplot [textColor,dashed] plot coordinates {(1,0) (1,.203)};
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,.203)};  %% closed hole         
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(5,1.679)};  %% closed hole       
          \node at (axis cs:3.4,.3) [textColor] {$F(x) = \int_a^x f(t) \d t$};
          \node at (axis cs:3.4,1.1) [penColor] {$f(t)$};
        \end{axis}
\end{tikzpicture}


An accumulation function $F(x)$ is measuring the signed area in the
region $[a,x]$ between $f(t)$ and the $t$-axis. Hence $t$ is playing
the role of a ``place-holder'' and represents numbers where we are
evaluating $f(t)$. On the other hand, $x$ is the specific number that
we are using to bound the region that will determine the area between
$f(t)$ and the $t$-axis.


\begin{example} 
Consider the following accumulation function for $f(x) = x^3$.
\[
F(x) = \int_{-1}^x t^3 \d t.
\]
Considering the interval $[-1,1]$, where is $F(x)$ increasing? Where
is $F(x)$ decreasing? When does $F(x)$ have a local extrema?
\end{example}

\begin{marginfigure}
\begin{tikzpicture}
  \begin{axis}[
      xmin=-1, xmax=1,ymin=-1,ymax=1,domain=-1:1,
      axis lines =center, xlabel=$t$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
      xtick={-1,.8}, 
      xticklabels={$-1$,$x$}, 
      axis on top,
    ] 
    \addplot [draw=none, fill=fillp,domain=0:.8] {x^3} \closedcycle;
    \addplot [draw=none, fill=filln,domain=-1:0] {x^3} \closedcycle;
    \addplot [penColor,very thick] {x^3};
  \end{axis}
\end{tikzpicture}
\caption{The integral $\int_{-1}^x t^3 \d t$ measures the shaded area.}
\label{figure:accumulationeg}
\end{marginfigure}

\begin{solution}
We can see a plot of $f(t)$ along with the signed area measured by the
accumulation function in Figure~\ref{figure:accumulationeg}. The
accumulation function starts off at zero, and then is decreasing as it
accumulates negatively signed area. However when $x>0$, $F(x)$ starts
to accumulate positively signed area, and hence is increasing. Thus
$F(x)$ is increasing on $(0,1]$, decreasing on $[-1,0)$ and hence has
a local minimum at $(0,0)$.
\end{solution}

Working with the accumulation function leads us to a question, what is  
\[
\int_a^x f(x) \d x
\]
when $x< a$? The general convention is that 
\[
\int_a^b f(x) \d x = -\int_b^a f(x) \d x. 
\]
With this in mind, let's consider one more example.


\begin{example} 
Consider the following accumulation function for $f(x) = x^3$.
\[
F(x) = \int_{-1}^x t^3 \d t.
\]
Where is $F(x)$ increasing? Where is $F(x)$ decreasing? When does
$F(x)$ have a extrema?
\end{example}

\begin{marginfigure}
\begin{tikzpicture}
  \begin{axis}[
      xmin=-3, xmax=1,ymin=-10,ymax=1,domain=-3:1,
      axis lines =center, xlabel=$t$, ylabel=$y$,
      every axis y label/.style={at=(current axis.above origin),anchor=south},
      every axis x label/.style={at=(current axis.right of origin),anchor=west},
      xtick={-2,-1}, 
      xticklabels={$x$,$-1$}, 
      axis on top,
    ] 
    \addplot [draw=none, fill=fillp,domain=-2:-1] {x^3} \closedcycle;
    \addplot [penColor,very thick] {x^3};
  \end{axis}
\end{tikzpicture}
\caption{The integral $\int_{-1}^x t^3 \d t$ measures the shaded
  area. Note, since $x<-1$, the area has positive sign.}
\label{figure:accumulationegreal}
\end{marginfigure}

\begin{solution}
From our previous example, we know that $F(x)$ is increasing from on
$(0,1]$. Since $f(t)$ continues to be positive at $t=1$ and beyond,
  $F(x)$ is increasing on $(0,\infty)$. On the other hand, we know
  from our previous example that $F(x)$ is decreasing on $(-1,0)$. For
  values to the left of $t=-1$, $F(x)$ is still decreasing, as less
  and less positively signed area is accumulated. Hence $F(x)$ is
  increasing on $(0,\infty)$, decreasing on $(-\infty,0)$ and hence
  has an absolute minimum at $(0,0)$.
\end{solution}

The key point to take from these examples is that an accumulation function
\[
\int_a^x f(t) \d x 
\]
is increasing precisely when $f(t)$ is positive and is decreasing
precisely when $f(t)$ is negative. In short, it seems that $f(x)$ is
behaving in a similar fashion to $F'(x)$.




\begin{exercises}

\end{exercises}




\section{Riemann Sums}

In the first section we learned that integrals compute signed
area. However, we gave no indication as to how this area was to be
computed. Suppose you want to integrate $f(x)$ from $a$ to $b$, see
Figure~\ref{figure:areacompute1}. Start by partitioning the interval
$[a,b]$ by making a list

\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            domain=.5:5.5, ymax=2.2,xmax=5.5,xmin=.5,ymin=0,
            axis lines =left, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,5}, ytickmin=4, ytickmax=1,
            xticklabels={$a$,$b$}, 
            axis on top,
          ]
          %\addplot [draw=none,fill=fillp,domain=(1:5)] {sin(deg((x - 4)/2)) + 1.2} \closedcycle;
          \addplot [very thick,penColor, smooth,domain=(0:6)] {sin(deg((x - 4)/2)) + 1.2};
          %\addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(1,.203)};  %% closed hole         
          %\addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(5,1.679)};  %% closed hole       
        \end{axis}
\end{tikzpicture}
\caption{A plot of $f(x)$.}
\label{figure:areacompute1}
\end{marginfigure}

\[
a = x_0 < x_1 <x_2 < \cdots x_{n-1}< x_n = b
\]
and considering the subintervals where
\[
[x_0,x_1]\cup [x_1, x_2]\cup \dots \cup [x_{n-1},x_n] = [a,b].
\]

\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            domain=.5:5.5, ymax=2.2,xmax=5.5, xmin=.5,ymin=0,
            axis lines =left, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,2.1,2.7,4.2,5}, ytickmin=4, ytickmax=1,
            xticklabels={$a=x_0$, $x_1$, $x_2$, $x_3$, $x_4=b$}, 
            axis on top,
          ]

%          \addplot [draw=penColor,fill=fillp] plot coordinates {(1,.24) (2.1,.24)} \closedcycle;
%          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.1,.45) (2.7,.45)} \closedcycle;
%          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.7,.72) (4.2,.72)} \closedcycle;
%          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.2,1.54) (5,1.54)} \closedcycle;

          \addplot [very thick,penColor, smooth,domain=(0:6)] {sin(deg((x - 4)/2)) + 1.2};
          
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.4,.24)};  %% closed hole         
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(2.3,.45)};  %% closed hole       
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(3,.72)};  %% closed hole  
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(4.7,1.54)};  %% closed hole       
          
          \addplot [dashed,textColor] plot coordinates {(1.4,0) (1.4,.24)};
          \addplot [dashed,textColor] plot coordinates {(2.3,0) (2.3,.45)};
          \addplot [dashed,textColor] plot coordinates {(3,0) (3,.72)};
          \addplot [dashed,textColor] plot coordinates {(4.7,0) (4.7,1.54)};

          \node at (axis cs:1.4,.24) [textColor,above] {$f(x_0^*)$};
          \node at (axis cs:2.3,.5) [textColor,above] {$f(x_1^*)$};
          \node at (axis cs:3,.8) [textColor,above] {$f(x_2^*)$};
          \node at (axis cs:4.7,1.6) [textColor,above] {$f(x_3^*)$};
        \end{axis}
\end{tikzpicture}
\caption{A plot of $f(x)$ along with the partion 
\[
[x_0,x_1]\cup [x_1, x_2]\cup [x_2,x_3]\cup [x_3,x_4]\cup[x_4,x_5] = [a,b]
\]
and the $y$-values $f(x_0^*)$, $f(x_1^*)$, $f(x_2^*)$, $f(x_3^*)$, $f(x_4^*)$.}
\label{figure:areacompute1}
\end{marginfigure}
Now for each subinterval pick a point $x_i^*\in [x_i,x_{i+1}]$ and
evaluate your function $f(x)$ at each of these points. We can now
compute the area of the rectangles defined by the width of the
subinterval $[x_i,x_{i+1}]$ and the height $f(x_i^*)$. Adding these
together we find
\[
\sum_{i=0}^{n-1} f(x_i^*) \cdot (x_{i+1}-x_i) \approx \int_a^b f(x) \d x.
\]

\begin{tikzpicture}
	\begin{axis}[
            domain=.5:5.5, ymax=2.2,xmax=5.5, xmin=.5,ymin=0,
            axis lines =left, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,2.1,2.7,4.2,5}, ytickmin=4, ytickmax=1,
            xticklabels={$a=x_0$, $x_1$, $x_2$, $x_3$, $x_4=b$}, 
            axis on top,
          ]

          \addplot [draw=penColor,fill=fillp] plot coordinates {(1,.24) (2.1,.24)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.1,.45) (2.7,.45)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.7,.72) (4.2,.72)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.2,1.54) (5,1.54)} \closedcycle;

          \addplot [very thick,penColor, smooth,domain=(0:6)] {sin(deg((x - 4)/2)) + 1.2};
          
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(1.4,.24)};  %% closed hole         
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(2.3,.45)};  %% closed hole       
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(3,.72)};  %% closed hole  
          \addplot [color=penColor,fill=penColor,only marks,mark=*] coordinates{(4.7,1.54)};  %% closed hole       
          
          \addplot [dashed,textColor] plot coordinates {(1.4,0) (1.4,.24)};
          \addplot [dashed,textColor] plot coordinates {(2.3,0) (2.3,.45)};
          \addplot [dashed,textColor] plot coordinates {(3,0) (3,.72)};
          \addplot [dashed,textColor] plot coordinates {(4.7,0) (4.7,1.54)};

          \node at (axis cs:1.4,.24) [textColor,above] {$f(x_0^*)$};
          \node at (axis cs:2.3,.5) [textColor,above] {$f(x_1^*)$};
          \node at (axis cs:3,.8) [textColor,above] {$f(x_2^*)$};
          \node at (axis cs:4.7,1.6) [textColor,above] {$f(x_3^*)$};
        \end{axis}
\end{tikzpicture}

If we take the limit of all such sums as the partitions get finer and
finer, we obtain closer and closer approximations, see
Figure~\ref{figure:partitionsfiner}.

\break

\begin{marginfigure}
\begin{tikzpicture}
	\begin{axis}[
            domain=.5:5.5, ymax=2.2,xmax=5.5, xmin=.5,ymin=0,
            axis lines =left, xlabel=$x$, ylabel=$y$,
            every axis y label/.style={at=(current axis.above origin),anchor=south},
            every axis x label/.style={at=(current axis.right of origin),anchor=west},
            xtick={1,5}, ytickmin=4, ytickmax=1,
            xticklabels={$a$, $b$}, 
            axis on top,
          ]

          \addplot [draw=penColor,fill=fillp] plot coordinates {(1,.21) (1.13,.21)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(1.13,.21) (1.19,.21)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(1.19,.225) (1.5,.225)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(1.5,.29) (1.74,.29)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(1.74,.33) (1.93,.33)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(1.93,.36) (2.16,.36)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.16,.42) (2.24,.42)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.24,.45) (2.35,.45)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.35,.56) (2.75,.56)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.75,.62) (2.8,.62)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.8,.65) (2.85,.65)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(2.85,.77) (3.2,.77)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(3.2,.86) (3.47,.86)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(3.47,.95) (3.65,.95)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(3.65,1.05) (3.72,1.05)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(3.72,1.1) (4.04,1.1)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.04,1.24) (4.15,1.24)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.15,1.3) (4.23,1.3)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.23,1.35) (4.58,1.35)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.58,1.5) (4.74,1.5)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.74,1.57) (4.8,1.57)} \closedcycle;
          \addplot [draw=penColor,fill=fillp] plot coordinates {(4.8,1.63) (5,1.63)} \closedcycle;
          
          \addplot [very thick,penColor, smooth,domain=(0:6)] {sin(deg((x - 4)/2)) + 1.2};
        \end{axis}
\end{tikzpicture}
\caption{Using finer and finer partitions, the closer the approximation
\[
\sum_{i=0}^{n-1} f(x_i^*) \cdot (x_{i+1}-x_i) \approx \int_a^b f(x) \d x.
\]}
\label{figure:partitionsfiner}
\end{marginfigure}

One can use \textit{Riemann sums} to compute this area.

\begin{definition}
A \textbf{Riemann Sum} 
\end{definition}




\begin{exercises}

\end{exercises}



\section{Euler's Method}

